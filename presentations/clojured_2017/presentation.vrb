\frametitle{Improving Dynamic Behaviour via Watch}
\begin{lstlisting}[caption=Improving Dynamic Behaviour via Watch]
...
=> (def f (atom (eval @f-list)))
#'user/f|\pause|
=> (@f 41)
42|\pause|
=> (add-watch f-list :id (fn [k r o n-val] (reset! f (eval n-val))))
#object[clojure.lang.Atom 0xc7045b9 ...|\pause|
=> (reset! f-list `(fn [~x] (dec ~x)))
(clojure.core/fn [x-sym] (clojure.core/dec x-sym))|\pause|
=> (@f 41)
40
\end{lstlisting}
